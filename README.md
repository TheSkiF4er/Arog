# Farog

**Автор:** TheSkiF4er  
**Лицензия:** Apache 2.0

> Farog — уникальный, сверхбыстрый и безопасный JavaScript/TypeScript-runtime нового поколения, созданный с нуля без использования готовых решений и чужих шаблонов.

Farog объединяет ядро-рантайм, пакетный менеджер, бандлер и тестовый раннер в одном аккуратном бинарнике (или в наборе бинарников core+CLI). Проект ориентирован на современную разработку серверных приложений, serverless/edge-функций и CLI-инструментов, обеспечивая при этом плавный переход с существующих проектов на Node.js.

---

## Ключевые особенности

- **Максимальная уникальность**  
  Вся архитектура Farog — оригинальная: собственный рантайм (C++), собственный формат конфигурации, собственный пакетный менеджер и API стандартной библиотеки.

- **Полная поддержка JavaScript и TypeScript**  
  TypeScript выполняется «из коробки», без дополнительных транспайлеров и сборщиков. Достаточно написать `.ts` и выполнить `farog run`.

- **Плавный переход с Node.js**  
  Инструмент `farog import-node` (реализуется в Go-CLI) анализирует `package.json`, помогает перенести скрипты, зависимости и подсвечивает потенциально проблемные места.

- **Безопасность по умолчанию**  
  Farog использует модель явных разрешений: доступ к сети, файловой системе, переменным окружения и дочерним процессам должен быть разрешён явно через конфигурацию или интерактивное подтверждение.

- **Ориентация на производительность**  
  Ядро на C++ даёт полный контроль над памятью и потоками и оптимизировано для быстрого cold start и низкой задержки ввода-вывода, что особенно важно для serverless и edge-сценариев.

---

## Установка

```bash
# Linux / macOS (пример установки)
curl -sSL https://install.farog.dev | sh

# Проверка версии
farog --version
# Ожидаемый вывод: Farog 1.0.0
```

---

## Быстрый старт

### Создание нового проекта

```bash
farog init my-farog-app
cd my-farog-app
```

Структура:

```text
my-farog-app/
├─ farog.toml
└─ src/
   └─ index.ts
```

### Пример `src/index.ts`

```ts
import { serve } from "farog/http";

serve({ port: 8080 }, async (request) => {
  const url = new URL(request.url);
  return new Response(`Hello from Farog! Path: ${url.pathname}`);
});
```

### Запуск

```bash
farog run src/index.ts
```

При первом запуске Farog CLI запросит или применит разрешения на использование сети. Вы можете:

- временно разрешить доступ;
- записать разрешения сразу в `farog.toml`.

---

## Конфигурация (`farog.toml`)

```toml
name = "my-farog-app"
version = "1.0.0"
entry = "src/index.ts"
type = "module"

[permissions]
network = ["127.0.0.1:8080"]
fs = ["./data/*"]

[build]
target = "edge"
minify = true
singleBinary = false
```

---

## Использование пакетов

Farog включает собственный, уникальный пакетный менеджер (реализуемый в Go-CLI), поддерживающий установку пакетов из npm-экосистемы:

```bash
farog pm add lodash
farog pm add typescript --dev
farog pm install
```

Большинство чисто JavaScript/TypeScript пакетов работают без модификаций. Для нативных модулей предусмотрены:

- пересборка под ABI Farog;
- рекомендованный порт на WebAssembly;
- использование абстракций безопасного FFI.

---

## Основные команды CLI

```text
farog init [name]        Создать новый проект с шаблоном
farog run <file>         Выполнить JS/TS файл
farog dev                Запустить dev-режим с авто-перезапуском
farog build              Собрать приложение для продакшена
farog test               Запустить тесты проекта
farog pm install         Установить зависимости
farog pm add <pkg>       Добавить зависимость
farog pm audit           Проверить зависимости на уязвимости
farog import-node        Помощник миграции с Node.js
farog shell              Интерактивная оболочка (REPL) с контролем разрешений
```

---

## Структура репозитория

Репозиторий Farog использует монорепо-подход:

- `runtime/` — ядро рантайма и движковые привязки (C++);
- `cli/` — CLI-утилита `farog` и пакетный менеджер (Go);
- `stdlib/` — стандартная библиотека модулей Farog;
- `packages/` — дополнительные пакеты (SDK, test-utils);
- `examples/` — примеры проектов и шаблоны;
- `docs/` — документация;
- `website/` — исходники веб-сайта и документации.

Подробности структуры описаны в `REPO-ARCHITECTURE.md`.

---

## Вклад в проект

Мы приветствуем любые улучшения — от исправления опечаток в документации до глубоких изменений в рантайме.

Перед отправкой pull request:

1. Ознакомьтесь с `CONTRIBUTING.md`.
2. Создайте issue с описанием проблемы или улучшения, если его ещё нет.
3. Убедитесь, что:
   - все тесты проходят;
   - добавлены тесты для нового функционала;
   - обновлена документация (при необходимости);
   - изменения понятны из описания PR и коммитов.

Для первых шагов ищите задачи с метками `good-first-issue` и `help-wanted`.

---

## Безопасность

Безопасность — один из ключевых приоритетов Farog.

- Политика безопасности описана в `SECURITY.md`.
- Об уязвимостях просим сообщать на `security@cajeer.ru`.
- Мы стараемся подтверждать получение отчёта в течение 72 часов.

---

## Governance

Проект Farog разрабатывается автором **TheSkiF4er** совместно с сообществом. Подробности о принятии решений, ролях и процессах описаны в `GOVERNANCE.md`.

---

## Контакты

- Общие вопросы: contact@cajeer.ru
- Безопасность: security@cajeer.ru

---

## Лицензия

Farog распространяется по лицензии **Apache License 2.0**. Полный текст лицензии — в файле `LICENSE`.

Спасибо за интерес к Farog!
